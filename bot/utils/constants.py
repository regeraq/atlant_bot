"""
Константы для оптимизации производительности и конфигурации
"""
from typing import Final

# ============================================================================
# КЭШИРОВАНИЕ
# ============================================================================

# TTL кэша по умолчанию (в секундах)
DEFAULT_CACHE_TTL: Final[int] = 300  # 5 минут

# TTL кэша для автомобилей
CACHE_TTL_CARS_LIST: Final[int] = 60  # 1 минута
CACHE_TTL_CAR_DETAILS: Final[int] = 120  # 2 минуты

# TTL кэша для аренд
CACHE_TTL_RENTAL_USER: Final[int] = 300  # 5 минут
CACHE_TTL_RENTALS_ACTIVE: Final[int] = 60  # 1 минута

# TTL кэша для администраторов
CACHE_TTL_ADMIN_CHECK: Final[int] = 300  # 5 минут

# ============================================================================
# РАССЫЛКИ
# ============================================================================

# Размер батча для рассылок (количество пользователей за раз)
BROADCAST_BATCH_SIZE: Final[int] = 20

# Пауза между батчами рассылки (в секундах)
BROADCAST_BATCH_PAUSE_SMALL: Final[float] = 1.2  # Для < 100 пользователей
BROADCAST_BATCH_PAUSE_LARGE: Final[float] = 1.5  # Для >= 100 пользователей

# Порог для определения "большой" рассылки
BROADCAST_LARGE_THRESHOLD: Final[int] = 100

# ============================================================================
# БАЗА ДАННЫХ
# ============================================================================

# Размер чанка для обработки больших списков
DB_CHUNK_SIZE: Final[int] = 100

# Максимальная длина текста для сохранения в БД
DB_MAX_TEXT_LENGTH: Final[int] = 500

# ============================================================================
# УВЕДОМЛЕНИЯ АДМИНИСТРАТОРАМ
# ============================================================================

# Максимальное количество ошибок для логирования в рассылках
MAX_ERRORS_TO_LOG: Final[int] = 3

# ============================================================================
# ВАЛИДАЦИЯ
# ============================================================================

# Максимальная сумма (для валидации)
MAX_AMOUNT: Final[float] = 99_999_999.99

# Максимальная длина UTM-метки
MAX_UTM_LENGTH: Final[int] = 100

# Максимальная длина заметки о пользователе
MAX_USER_NOTE_LENGTH: Final[int] = 1000

# Максимальная длина описания инцидента
MAX_INCIDENT_DESCRIPTION_LENGTH: Final[int] = 1000


